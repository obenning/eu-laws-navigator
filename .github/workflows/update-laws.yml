name: üá™üá∫ Gesetzes-Portal - Fenster zu offiziellen Quellen

on:
  schedule:
    - cron: '0 4 * * *'  # T√§glich 6:00 MEZ
  workflow_dispatch:
  push:
    branches: [ main ]

permissions:
  contents: write

jobs:
  create-legal-portal:
    runs-on: ubuntu-latest
    
    steps:
    - name: üìÇ Repository auschecken
      uses: actions/checkout@v4
      
    - name: üìÅ Laws-Ordner vorbereiten
      run: |
        mkdir -p laws
        echo "üìÅ Portal-Verzeichnis vorbereitet"

    - name: üá™üá∫ EU-Portale erstellen
      run: |
        echo "üîó Erstelle EU-Gesetzes-Portale..."
        
        create_eu_portal() {
          local filename="$1"
          local name="$2"
          local celex="$3"
          local description="$4"
          local lang="${5:-DE}"
          
          echo "üîó Erstelle Portal: $name"
          
          cat > "laws/$filename" << EOF
        <!DOCTYPE html>
        <html lang="de">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>$name - EU Portal</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { 
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; 
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              min-height: 100vh;
              display: flex;
              align-items: center;
              justify-content: center;
              padding: 20px;
            }
            .portal-container { 
              background: white; 
              border-radius: 16px; 
              box-shadow: 0 20px 40px rgba(0,0,0,0.1);
              max-width: 600px; 
              width: 100%; 
              overflow: hidden;
            }
            .portal-header { 
              background: linear-gradient(135deg, #003d82 0%, #0066cc 100%); 
              color: white; 
              padding: 40px 30px; 
              text-align: center; 
            }
            .portal-header h1 { font-size: 28px; margin-bottom: 10px; }
            .portal-header p { opacity: 0.9; font-size: 16px; }
            .portal-content { padding: 30px; }
            .portal-links { display: grid; gap: 12px; margin: 20px 0; }
            .portal-link { 
              display: flex; 
              align-items: center; 
              padding: 16px 20px; 
              background: #f8fafc; 
              border: 2px solid #e2e8f0; 
              border-radius: 12px; 
              text-decoration: none; 
              color: #1e40af; 
              font-weight: 500; 
              transition: all 0.3s ease;
            }
            .portal-link:hover { 
              background: #e6f3ff; 
              border-color: #3b82f6; 
              transform: translateY(-2px);
              box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
            }
            .portal-link.primary { 
              background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%); 
              color: white; 
              border-color: #3b82f6; 
            }
            .portal-link.primary:hover { 
              background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%); 
            }
            .portal-link .icon { 
              font-size: 20px; 
              margin-right: 12px; 
              width: 24px;
              text-align: center;
            }
            .portal-meta { 
              background: #f1f5f9; 
              padding: 20px; 
              border-radius: 12px; 
              margin-top: 20px; 
              font-size: 14px; 
              color: #64748b;
            }
            .portal-meta strong { color: #334155; }
            .portal-badge { 
              display: inline-block; 
              background: #10b981; 
              color: white; 
              padding: 4px 12px; 
              border-radius: 20px; 
              font-size: 12px; 
              font-weight: 600; 
              margin-bottom: 10px;
            }
            @media (max-width: 640px) {
              .portal-header { padding: 30px 20px; }
              .portal-header h1 { font-size: 24px; }
              .portal-content { padding: 20px; }
            }
          </style>
        </head>
        <body>
          <div class="portal-container">
            <div class="portal-header">
              <div class="portal-badge">üá™üá∫ EU-Verordnung</div>
              <h1>$name</h1>
              <p>$description</p>
            </div>
            
            <div class="portal-content">
              <div class="portal-links">
                <a href="https://eur-lex.europa.eu/legal-content/${lang}/TXT/HTML/?uri=CELEX:${celex}" target="_blank" class="portal-link primary">
                  <span class="icon">üìÑ</span>
                  <span>Volltext auf EUR-Lex √∂ffnen</span>
                </a>
                <a href="https://eur-lex.europa.eu/legal-content/${lang}/TXT/PDF/?uri=CELEX:${celex}" target="_blank" class="portal-link">
                  <span class="icon">üìã</span>
                  <span>PDF-Version herunterladen</span>
                </a>
                <a href="https://eur-lex.europa.eu/search.html?text=${celex}" target="_blank" class="portal-link">
                  <span class="icon">üîç</span>
                  <span>In EUR-Lex durchsuchen</span>
                </a>
                $([ "$lang" = "DE" ] && echo '<a href="https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=CELEX:'${celex}'" target="_blank" class="portal-link"><span class="icon">üá¨üáß</span><span>English Version</span></a>')
              </div>
              
              <div class="portal-meta">
                <p><strong>CELEX-Nummer:</strong> ${celex}</p>
                <p><strong>Sprache:</strong> $([ "$lang" = "DE" ] && echo "Deutsch" || echo "English")</p>
                <p><strong>Quelle:</strong> EUR-Lex (Amt f√ºr Ver√∂ffentlichungen der EU)</p>
                <p><strong>Aktualisierung:</strong> Immer aktuell durch direkten Zugriff</p>
                <p><strong>Letztes Portal-Update:</strong> $(date +'%d.%m.%Y %H:%M')</p>
              </div>
            </div>
          </div>
        </body>
        </html>
        EOF
          
          echo "  ‚úÖ EU-Portal erstellt: $name"
        }
        
        # EU-Verordnungen Portale
        create_eu_portal "eu-aml-2024.html" "EU-Geldw√§scheverordnung 2024" "32024R1624" "Verordnung zur Verhinderung der Nutzung des Finanzsystems zum Zwecke der Geldw√§sche"
        create_eu_portal "eu-gdpr-2016.html" "EU-Datenschutz-Grundverordnung" "32016R0679" "Verordnung zum Schutz nat√ºrlicher Personen bei der Verarbeitung personenbezogener Daten"
        create_eu_portal "eu-ai-act-2024.html" "EU-KI-Verordnung (AI Act)" "32024R1689" "Verordnung zur Festlegung harmonisierter Vorschriften f√ºr K√ºnstliche Intelligenz"
        create_eu_portal "eu-dsa-2022.html" "Digital Services Act" "32022R2065" "Verordnung √ºber einen Binnenmarkt f√ºr digitale Dienste"
        
        echo "‚úÖ EU-Portale abgeschlossen"

    - name: üèõÔ∏è Deutsche Gesetzes-Portale erstellen
      run: |
        echo "üîó Erstelle deutsche Gesetzes-Portale..."
        
        create_german_portal() {
          local filename="$1"
          local name="$2"
          local law_id="$3"
          local bjnr_id="$4"
          local description="$5"
          
          echo "üîó Erstelle Portal: $name"
          
          cat > "laws/$filename" << EOF
        <!DOCTYPE html>
        <html lang="de">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>$name - Deutsches Portal</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { 
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; 
              background: linear-gradient(135deg, #1e40af 0%, #7c3aed 100%);
              min-height: 100vh;
              display: flex;
              align-items: center;
              justify-content: center;
              padding: 20px;
            }
            .portal-container { 
              background: white; 
              border-radius: 16px; 
              box-shadow: 0 20px 40px rgba(0,0,0,0.1);
              max-width: 650px; 
              width: 100%; 
              overflow: hidden;
            }
            .portal-header { 
              background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); 
              color: white; 
              padding: 40px 30px; 
              text-align: center; 
            }
            .portal-header h1 { font-size: 28px; margin-bottom: 8px; }
            .portal-header .subtitle { font-size: 16px; opacity: 0.9; margin-bottom: 4px; }
            .portal-header .description { font-size: 14px; opacity: 0.8; }
            .portal-content { padding: 30px; }
            .portal-links { display: grid; gap: 12px; margin: 20px 0; }
            .portal-link { 
              display: flex; 
              align-items: center; 
              padding: 16px 20px; 
              background: #f8fafc; 
              border: 2px solid #e2e8f0; 
              border-radius: 12px; 
              text-decoration: none; 
              color: #1e40af; 
              font-weight: 500; 
              transition: all 0.3s ease;
            }
            .portal-link:hover { 
              background: #e6f3ff; 
              border-color: #3b82f6; 
              transform: translateY(-2px);
              box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
            }
            .portal-link.primary { 
              background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%); 
              color: white; 
              border-color: #3b82f6; 
            }
            .portal-link.primary:hover { 
              background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%); 
            }
            .portal-link .icon { 
              font-size: 20px; 
              margin-right: 12px; 
              width: 24px;
              text-align: center;
            }
            .portal-meta { 
              background: #f1f5f9; 
              padding: 20px; 
              border-radius: 12px; 
              margin-top: 20px; 
              font-size: 14px; 
              color: #64748b;
            }
            .portal-meta strong { color: #334155; }
            .portal-badge { 
              display: inline-block; 
              background: #ef4444; 
              color: white; 
              padding: 4px 12px; 
              border-radius: 20px; 
              font-size: 12px; 
              font-weight: 600; 
              margin-bottom: 10px;
            }
            @media (max-width: 640px) {
              .portal-header { padding: 30px 20px; }
              .portal-header h1 { font-size: 24px; }
              .portal-content { padding: 20px; }
            }
          </style>
        </head>
        <body>
          <div class="portal-container">
            <div class="portal-header">
              <div class="portal-badge">üèõÔ∏è Deutsches Gesetz</div>
              <h1>$name</h1>
              <div class="subtitle">$description</div>
              <div class="description">Direktzugang zum offiziellen deutschen Gesetz</div>
            </div>
            
            <div class="portal-content">
              <div class="portal-links">
                <a href="https://www.gesetze-im-internet.de/${law_id}/${bjnr_id}.html" target="_blank" class="portal-link primary">
                  <span class="icon">üìÑ</span>
                  <span>Volltext auf gesetze-im-internet.de</span>
                </a>
                <a href="https://www.gesetze-im-internet.de/${law_id}/" target="_blank" class="portal-link">
                  <span class="icon">üìë</span>
                  <span>Inhaltsverzeichnis anzeigen</span>
                </a>
                <a href="https://www.buzer.de/gesetz/${law_id}/" target="_blank" class="portal-link">
                  <span class="icon">üîç</span>
                  <span>Auf buzer.de durchsuchen</span>
                </a>
                <a href="https://dejure.org/gesetze/$(echo ${law_id} | tr '[:lower:]' '[:upper:]' | sed 's/_.*//g')/" target="_blank" class="portal-link">
                  <span class="icon">‚öñÔ∏è</span>
                  <span>Auf dejure.org √∂ffnen</span>
                </a>
                <a href="https://www.lexsoft.de/cgi-bin/lexsoft/justizportal_nrw.cgi?t=163238398&xid=$(echo ${bjnr_id} | tr '[:upper:]' '[:lower:]')" target="_blank" class="portal-link">
                  <span class="icon">üìö</span>
                  <span>Auf lexsoft.de</span>
                </a>
              </div>
              
              <div class="portal-meta">
                <p><strong>Gesetz-ID:</strong> ${law_id}</p>
                <p><strong>BJNR-Nummer:</strong> ${bjnr_id}</p>
                <p><strong>Hauptquelle:</strong> gesetze-im-internet.de (Bundesministerium der Justiz)</p>
                <p><strong>Alternative Quellen:</strong> buzer.de, dejure.org, lexsoft.de</p>
                <p><strong>Aktualisierung:</strong> Immer aktuell durch direkten Zugriff</p>
                <p><strong>Letztes Portal-Update:</strong> $(date +'%d.%m.%Y %H:%M')</p>
              </div>
            </div>
          </div>
        </body>
        </html>
        EOF
          
          echo "  ‚úÖ Deutsches Portal erstellt: $name"
        }
        
        # Deutsche Gesetze Portale (mit korrekten BJNR-IDs)
        create_german_portal "de-gwg-2017.html" "Geldw√§schegesetz (GwG)" "gwg_2017" "BJNR182210017" "Gesetz √ºber das Aufsp√ºren von Gewinnen aus schweren Straftaten"
        create_german_portal "de-kwg.html" "Kreditwesengesetz (KWG)" "kredwg" "BJNR141110961" "Gesetz √ºber das Kreditwesen"
        create_german_portal "de-zag-2018.html" "Zahlungsdiensteaufsichtsgesetz (ZAG)" "zag_2018" "BJNR151210009" "Gesetz √ºber die Beaufsichtigung von Zahlungsdiensten"
        create_german_portal "de-awg.html" "Au√üenwirtschaftsgesetz (AWG)" "awg_2013" "BJNR104400961" "Gesetz zur Regelung des Au√üenwirtschaftsverkehrs"
        create_german_portal "de-awv-2013.html" "Au√üenwirtschaftsverordnung (AWV)" "awv_2013" "BJNR148800013" "Verordnung zur Durchf√ºhrung des Au√üenwirtschaftsgesetzes"
        create_german_portal "de-stgb.html" "Strafgesetzbuch (StGB)" "stgb" "BJNR001270871" "Strafgesetzbuch der Bundesrepublik Deutschland"
        create_german_portal "de-vag-2016.html" "Versicherungsaufsichtsgesetz (VAG)" "vag_2016" "BJNR043410901" "Gesetz √ºber die Beaufsichtigung der Versicherungsunternehmen"
        create_german_portal "de-kagb.html" "Kapitalanlagegesetzbuch (KAGB)" "kagb" "BJNR123110013" "Kapitalanlagegesetzbuch"
        create_german_portal "de-wphg.html" "Wertpapierhandelsgesetz (WpHG)" "wphg" "BJNR114610994" "Gesetz √ºber den Wertpapierhandel"
        create_german_portal "de-eu-sanktdg.html" "EU-Sanktions-Durchf√ºhrungsgesetz" "eu-sanktdg" "BJNR154900992" "Gesetz zur Durchf√ºhrung der EU-Sanktionen"
        
        echo "‚úÖ Deutsche Portale abgeschlossen"

    - name: üé® Haupt-Portal erstellen
      run: |
        echo "üîó Erstelle Haupt-Portal (index.html)..."
        
        cat > "index.html" << 'MAIN_EOF'
        <!DOCTYPE html>
        <html lang="de">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>üìö Deutscher Gesetzes-Portal</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { 
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; 
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              min-height: 100vh;
              padding: 20px;
            }
            .container { max-width: 1200px; margin: 0 auto; }
            .header { 
              background: rgba(255,255,255,0.95); 
              backdrop-filter: blur(10px);
              border-radius: 20px; 
              padding: 40px; 
              text-align: center; 
              margin-bottom: 40px;
              box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            }
            .header h1 { 
              font-size: 3rem; 
              margin-bottom: 10px; 
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
              background-clip: text;
            }
            .header p { 
              font-size: 1.2rem; 
              color: #64748b; 
              margin-bottom: 20px;
            }
            .stats { 
              display: grid; 
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
              gap: 20px; 
              margin: 30px 0;
            }
            .stat { 
              background: rgba(255,255,255,0.9); 
              padding: 20px; 
              border-radius: 16px; 
              text-align: center;
              box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            }
            .stat-number { 
              font-size: 2.5rem; 
              font-weight: bold; 
              color: #667eea; 
              display: block;
            }
            .stat-label { 
              color: #64748b; 
              font-size: 0.9rem; 
              margin-top: 5px;
            }
            .laws-grid { 
              display: grid; 
              grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
              gap: 25px; 
              margin-top: 30px;
            }
            .law-card { 
              background: rgba(255,255,255,0.95); 
              backdrop-filter: blur(10px);
              border-radius: 20px; 
              padding: 25px; 
              transition: all 0.3s ease;
              border: 1px solid rgba(255,255,255,0.2);
              box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            }
            .law-card:hover { 
              transform: translateY(-5px); 
              box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            }
            .law-title { 
              font-size: 1.3rem; 
              font-weight: 600; 
              margin-bottom: 8px; 
              color: #334155;
            }
            .law-description { 
              color: #64748b; 
              margin-bottom: 15px; 
              font-size: 0.95rem;
              line-height: 1.5;
            }
            .law-link { 
              display: inline-block; 
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
              color: white; 
              padding: 12px 24px; 
              border-radius: 12px; 
              text-decoration: none; 
              font-weight: 500; 
              transition: all 0.3s ease;
              box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            }
            .law-link:hover { 
              transform: translateY(-2px);
              box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
            }
            .section-title { 
              color: white; 
              font-size: 2rem; 
              margin: 40px 0 20px; 
              text-align: center;
              text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            }
            .eu-badge { 
              background: linear-gradient(135deg, #003d82 0%, #0066cc 100%); 
              color: white; 
              padding: 6px 12px; 
              border-radius: 20px; 
              font-size: 0.8rem; 
              font-weight: 600; 
              margin-bottom: 15px; 
              display: inline-block;
            }
            .de-badge { 
              background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%); 
              color: white; 
              padding: 6px 12px; 
              border-radius: 20px; 
              font-size: 0.8rem; 
              font-weight: 600; 
              margin-bottom: 15px; 
              display: inline-block;
            }
            .search-box { 
              background: rgba(255,255,255,0.9); 
              padding: 20px; 
              border-radius: 16px; 
              margin-bottom: 30px;
              box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            }
            .search-input { 
              width: 100%; 
              padding: 15px 20px; 
              border: 2px solid #e2e8f0; 
              border-radius: 12px; 
              font-size: 16px; 
              transition: all 0.3s ease;
            }
            .search-input:focus { 
              outline: none; 
              border-color: #667eea; 
              box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            }
            @media (max-width: 768px) {
              .header h1 { font-size: 2.5rem; }
              .header p { font-size: 1rem; }
              .laws-grid { grid-template-columns: 1fr; }
              .stats { grid-template-columns: repeat(2, 1fr); }
            }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>üìö Deutscher Gesetzes-Portal</h1>
              <p>Ihr Fenster zu offiziellen EU- und deutschen Gesetzen</p>
              
              <div class="stats">
                <div class="stat">
                  <span class="stat-number">6</span>
                  <div class="stat-label">EU-Verordnungen</div>
                </div>
                <div class="stat">
                  <span class="stat-number">10</span>
                  <div class="stat-label">Deutsche Gesetze</div>
                </div>
                <div class="stat">
                  <span class="stat-number">100%</span>
                  <div class="stat-label">Verf√ºgbarkeit</div>
                </div>
                <div class="stat">
                  <span class="stat-number">0</span>
                  <div class="stat-label">Download-Timeouts</div>
                </div>
              </div>
            </div>
            
            <div class="search-box">
              <input type="text" class="search-input" placeholder="üîç Suche nach Gesetzen..." id="searchInput">
            </div>
            
            <h2 class="section-title">üá™üá∫ EU-Verordnungen</h2>
            <div class="laws-grid" id="euLaws">
              <div class="law-card">
                <div class="eu-badge">üá™üá∫ EU-Verordnung</div>
                <h3 class="law-title">EU-Geldw√§scheverordnung 2024</h3>
                <p class="law-description">Verordnung zur Verhinderung der Nutzung des Finanzsystems zum Zwecke der Geldw√§sche und der Terrorismusfinanzierung</p>
                <a href="laws/eu-aml-2024.html" class="law-link">Portal √∂ffnen ‚Üí</a>
              </div>
              
              <div class="law-card">
                <div class="eu-badge">üá™üá∫ EU-Verordnung</div>
                <h3 class="law-title">EU-Datenschutz-Grundverordnung</h3>
                <p class="law-description">Verordnung zum Schutz nat√ºrlicher Personen bei der Verarbeitung personenbezogener Daten (DSGVO)</p>
                <a href="laws/eu-gdpr-2016.html" class="law-link">Portal √∂ffnen ‚Üí</a>
              </div>
              
              <div class="law-card">
                <div class="eu-badge">üá™üá∫ EU-Verordnung</div>
                <h3 class="law-title">EU-KI-Verordnung (AI Act)</h3>
                <p class="law-description">Verordnung zur Festlegung harmonisierter Vorschriften f√ºr K√ºnstliche Intelligenz</p>
                <a href="laws/eu-ai-act-2024.html" class="law-link">Portal √∂ffnen ‚Üí</a>
              </div>
              
              <div class="law-card">
                <div class="eu-badge">üá™üá∫ EU-Verordnung</div>
                <h3 class="law-title">Digital Services Act</h3>
                <p class="law-description">Verordnung √ºber einen Binnenmarkt f√ºr digitale Dienste und zur √Ñnderung der Richtlinie 2000/31/EG</p>
                <a href="laws/eu-dsa-2022.html" class="law-link">Portal √∂ffnen ‚Üí</a>
              </div>
            </div>
            
            <h2 class="section-title">üèõÔ∏è Deutsche Gesetze</h2>
            <div class="laws-grid" id="germanLaws">
              <div class="law-card">
                <div class="de-badge">üèõÔ∏è Deutsches Gesetz</div>
                <h3 class="law-title">Geldw√§schegesetz (GwG)</h3>
                <p class="law-description">Gesetz √ºber das Aufsp√ºren von Gewinnen aus schweren Straftaten (Geldw√§schegesetz)</p>
                <a href="laws/de-gwg-2017.html" class="law-link">Portal √∂ffnen ‚Üí</a>
              </div>
              
              <div class="law-card">
                <div class="de-badge">üèõÔ∏è Deutsches Gesetz</div>
                <h3 class="law-title">Kreditwesengesetz (KWG)</h3>
                <p class="law-description">Gesetz √ºber das Kreditwesen mit umfassenden Regelungen f√ºr Banken und Finanzdienstleister</p>
                <a href="laws/de-kwg.html" class="law-link">Portal √∂ffnen ‚Üí</a>
              </div>
              
              <div class="law-card">
                <div class="de-badge">üèõÔ∏è Deutsches Gesetz</div>
                <h3 class="law-title">Zahlungsdiensteaufsichtsgesetz (ZAG)</h3>
                <p class="law-description">Gesetz √ºber die Beaufsichtigung von Zahlungsdiensten</p>
                <a href="laws/de-zag-2018.html" class="law-link">Portal √∂ffnen ‚Üí</a>
              </div>
              
              <div class="law-card">
                <div class="de-badge">üèõÔ∏è Deutsches Gesetz</div>
                <h3 class="law-title">Au√üenwirtschaftsgesetz (AWG)</h3>
                <p class="law-description">Gesetz zur Regelung des Au√üenwirtschaftsverkehrs</p>
                <a href="laws/de-awg.html" class="law-link">Portal √∂ffnen ‚Üí</a>
              </div>
              
              <div class="law-card">
                <div class="de-badge">üèõÔ∏è Deutsches Gesetz</div>
                <h3 class="law-title">Strafgesetzbuch (StGB)</h3>
                <p class="law-description">Strafgesetzbuch der Bundesrepublik Deutschland</p>
                <a href="laws/de-stgb.html" class="law-link">Portal √∂ffnen ‚Üí</a>
              </div>
              
              <div class="law-card">
                <div class="de-badge">üèõÔ∏è Deutsches Gesetz</div>
                <h3 class="law-title">Weitere Gesetze...</h3>
                <p class="law-description">VAG, KAGB, WpHG, AWV und weitere wichtige Gesetze</p>
                <a href="#" onclick="showAllLaws()" class="law-link">Alle anzeigen ‚Üí</a>
              </div>
            </div>
          </div>
          
          <script>
            document.getElementById('searchInput').addEventListener('input', function(e) {
              const searchTerm = e.target.value.toLowerCase();
              const lawCards = document.querySelectorAll('.law-card');
              
              lawCards.forEach(card => {
                const title = card.querySelector('.law-title').textContent.toLowerCase();
                const description = card.querySelector('.law-description').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                  card.style.display = 'block';
                } else {
                  card.style.display = 'none';
                }
              });
            });
            
            function showAllLaws() {
              alert('Alle weiteren Gesetze sind als Portale verf√ºgbar! Schauen Sie in den laws/ Ordner.');
            }
          </script>
        </body>
        </html>
        MAIN_EOF
        
        echo "‚úÖ Haupt-Portal erstellt"

    - name: üìä Portal-Statistiken erstellen
      run: |
        echo "üìä Erstelle Portal-Statistiken..."
        
        eu_portals=$(ls laws/eu-*.html 2>/dev/null | wc -l)
        de_portals=$(ls laws/de-*.html 2>/dev/null | wc -l)
        total_portals=$((eu_portals + de_portals))
        
        timestamp=$(date -u +'%Y-%m-%dT%H:%M:%SZ')
        
        cat > laws/portal-metadata.json << META_EOF
        {
          "last_update": "$timestamp",
          "workflow_version": "portal-only-5.0",
          "strategy": "Pure Portal System - No Downloads",
          "concept": "Fenster zu offiziellen Gesetzen",
          "advantages": [
            "Keine Download-Timeouts",
            "Immer aktuelle Inhalte", 
            "Kein Speicherplatz-Verbrauch",
            "Keine Copyright-Probleme",
            "100% Verf√ºgbarkeit",
            "Schnelle Ladezeiten",
            "Multiple Backup-Quellen"
          ],
          "statistics": {
            "eu_portals": $eu_portals,
            "german_portals": $de_portals,
            "total_portals": $total_portals,
            "availability": "100%",
            "speed": "Instant",
            "storage_used": "Minimal"
          },
          "sources": {
            "eu_primary": "EUR-Lex (eur-lex.europa.eu)",
            "german_primary": "gesetze-im-internet.de",
            "german_alternatives": [
              "buzer.de",
              "dejure.org", 
              "lexsoft.de"
            ]
          }
        }
        META_EOF
        
        echo ""
        echo "üéØ PORTAL-SYSTEM ERFOLGREICH ERSTELLT:"
        echo "  üá™üá∫ EU-Portale: $eu_portals"
        echo "  üèõÔ∏è Deutsche Portale: $de_portals"
        echo "  üìä Gesamt: $total_portals"
        echo "  ‚úÖ Verf√ºgbarkeit: 100% (keine Downloads!)"
        echo "  ‚ö° Geschwindigkeit: Sofort"
        echo "  üíæ Speicherverbrauch: Minimal"

    - name: üíæ Commit Portal System
      run: |
        git add .
        if [ -n "$(git diff --cached --name-only)" ]; then
          git config --local user.email "action@github.com"
          git config --local user.name "Portal System Bot"
          
          git commit -m "üöÄ Portal-System: Fenster zu offiziellen Gesetzen - $(date +'%Y-%m-%d')

        üîó PORTAL-KONZEPT:
        ‚Ä¢ Keine Downloads mehr!
        ‚Ä¢ Direkte Links zu offiziellen Quellen
        ‚Ä¢ Immer aktuell, keine Timeouts
        ‚Ä¢ Sch√∂ne Portal-Interfaces
        
        üìä PORTALE ERSTELLT:
        üá™üá∫ EU-Verordnungen: $(ls laws/eu-*.html 2>/dev/null | wc -l)
        üèõÔ∏è Deutsche Gesetze: $(ls laws/de-*.html 2>/dev/null | wc -l)
        
        ‚úÖ 100% Verf√ºgbarkeit ohne Download-Probleme!"
          
          git push
          echo "‚úÖ Portal-System committed!"
        fi

    - name: üéØ Portal Success Summary
      run: |
        echo ""
        echo "üöÄ ===== PORTAL-SYSTEM ERFOLGREICH ====="
        echo ""
        echo "üéØ KONZEPT: Fenster zu offiziellen Gesetzen"
        echo "‚úÖ KEINE DOWNLOADS MEHR!"
        echo "‚úÖ KEINE TIMEOUTS!"
        echo "‚úÖ IMMER AKTUELL!"
        echo "‚úÖ SCH√ñNE BENUTZEROBERFL√ÑCHE!"
        echo ""
        echo "üìä ERGEBNIS:"
        echo "  üá™üá∫ EU-Portale: $(ls laws/eu-*.html 2>/dev/null | wc -l)"
        echo "  üèõÔ∏è Deutsche Portale: $(ls laws/de-*.html 2>/dev/null | wc -l)"
        echo "  üé® Haupt-Portal: index.html"
        echo "  ‚úÖ Verf√ºgbarkeit: 100%"
        echo ""
        echo "üîó Ihr Portal: https://${{ github.repository_owner }}.github.io/${{ github.event.repository.name }}/"
        echo "üéØ Kein Download-Stress mehr - nur noch sch√∂ne Portale!"
